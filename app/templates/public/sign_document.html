<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sign Document</title>
  <style>
    :root{
      --bg:#f6f7fb;
      --card:#fff;
      --border:#e6e7ee;
      --muted:#666;
      --primary:#1f7a3f;
      --danger-bg:#fff3f3;
      --danger-border:#ffd0d0;
      --info-bg:#f3f5ff;
      --info-border:#cbd3ff;
    }
    *{ box-sizing:border-box; }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:var(--bg);
      margin:0;
      color:#111;
    }
    .wrap{ max-width:760px; margin:40px auto; padding:0 16px; }
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      padding:18px;
      box-shadow: 0 8px 20px rgba(0,0,0,.06);
    }
    h2{ margin:0 0 6px; }
    .muted{ color:var(--muted); font-size:14px; }
    .box{
      background:var(--info-bg);
      border:1px dashed var(--info-border);
      padding:12px;
      border-radius:12px;
    }
    .row{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
    label{ display:block; font-weight:700; margin-top:12px; }
    input{
      width:100%;
      padding:12px;
      border:1px solid #ddd;
      border-radius:12px;
      margin-top:6px;
      outline:none;
    }
    input:focus{
      border-color:#c9d7ff;
      box-shadow:0 0 0 3px rgba(203,211,255,.4);
    }
    .btn{
      display:inline-block;
      padding:12px 14px;
      border-radius:14px;
      border:0;
      font-weight:800;
      cursor:pointer;
    }
    .btn-primary{ background:var(--primary); color:#fff; }
    .error{
      background:var(--danger-bg);
      border:1px solid var(--danger-border);
      padding:12px;
      border-radius:12px;
      margin:12px 0;
    }
    .error strong{ display:block; margin-bottom:6px; }
    .error ul{ margin:0; padding-left:18px; }
    .terms{
      display:flex;
      gap:10px;
      align-items:flex-start;
      font-weight:600;
      margin-top:12px;
    }
    .terms input{ width:auto; margin-top:3px; }
    @media (max-width: 640px){
      .row{ grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h2>Document Signing</h2>
      <p class="muted" style="margin:0 0 14px;">
        Please review the details and sign below.
      </p>

      <div class="box">
        <div><strong>Document type:</strong> {{ document.doc_type }}</div>
        <div><strong>Version:</strong> {{ document.version }}</div>
        {% if document.title %}
          <div><strong>Title:</strong> {{ document.title }}</div>
        {% endif %}
      </div>

      {% if errors %}
        <div class="error" role="alert" aria-live="polite">
          <strong>Please fix:</strong>
          <ul>
            {% for e in errors %}
              <li>{{ e }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <form method="POST" action="/sign/{{ token }}" style="margin-top:14px;">
        <div class="row">
          <div>
            <label for="full_name">Full name</label>
            <input
              id="full_name"
              name="full_name"
              autocomplete="name"
              required
              value="{{ full_name or '' }}"
            />
          </div>
          <div>
            <label for="email">Email</label>
            <input
              id="email"
              name="email"
              type="email"
              autocomplete="email"
              required
              value="{{ email or '' }}"
            />
          </div>
        </div>

        <label class="terms">
          <input type="checkbox" name="accept" required />
          <span>I confirm I have read and accept the terms of this document.</span>
        </label>

        <button class="btn btn-primary" type="submit" style="margin-top:14px;">
          Sign document
        </button>
      </form>
    </div>

    <p class="muted" style="text-align:center; margin-top:12px;">
      This signing link is private. Do not share it.
    </p>
  </div>
</body>
</html>
