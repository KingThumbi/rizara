{# /home/thumbi/rizara/app/templates/pdfs/_base_pdf.html #}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Rizara PDF{% endblock %}</title>

  <style>
    @page { size: A4; margin: 14mm; }
    html, body { margin: 0; padding: 0; }

    :root{
      --jungle: #0B3D2E;
      --jungle-2: #145A41;
      --gold: #D4AF37;
      --ink: #111827;
      --muted: #6B7280;
      --line: #E5E7EB;
      --paper: #FFFFFF;
      --tint: #F7FAF9;
      --tint2: #FFFBF0;
    }

    body {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 11pt;
      color: var(--ink);
      line-height: 1.35;
      background: var(--paper);
    }

    /* TOP GREEN BRAND BLOCK */
    .brand-bar {
      height: 6mm;
      background: var(--jungle);
      margin-bottom: 8mm;
      border-radius: 4px;
    }

    /* Typography */
    h1 { font-size: 18pt; margin: 0 0 6mm 0; }
    h2 {
      font-size: 13pt;
      margin: 6mm 0 2mm 0;
      color: var(--jungle);
      padding-left: 3.5mm;
      border-left: 3px solid var(--gold);
    }

    p  { margin: 0 0 3mm 0; }
    ul { margin: 0 0 3mm 6mm; padding: 0; }
    li { margin: 0 0 1.2mm 0; }

    .muted { color: var(--muted); }
    .small { font-size: 10pt; }
    .tiny  { font-size: 9pt; }
    .mono  { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }

    .page { width: 100%; }

    .header {
      padding-bottom: 4mm;
      margin-bottom: 6mm;
      border-bottom: 2px solid var(--line);
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 8mm;
    }

    .brand {
      font-weight: 800;
      font-size: 14pt;
      color: var(--jungle);
      margin: 0;
    }

    .doc-title {
      font-weight: 800;
      font-size: 16pt;
      margin-top: 2mm;
      color: var(--ink);
    }

    .meta {
      text-align: right;
      min-width: 52mm;
    }

    .meta .kv { margin: 0 0 1mm 0; }
    .meta strong { color: var(--jungle); }

    .footer {
      margin-top: 8mm;
      padding-top: 4mm;
      border-top: 1px solid var(--line);
      color: var(--muted);
      font-size: 9pt;
    }

    .hr {
      height: 1px;
      background: var(--line);
      margin: 6mm 0;
    }

    .box {
      border: 1px solid var(--line);
      border-left: 3px solid var(--jungle);
      border-radius: 8px;
      padding: 6mm;
      margin: 0 0 4mm 0;
      background: var(--tint);
      break-inside: avoid;
    }

    .label {
      font-weight: 800;
      font-size: 9.5pt;
      color: var(--jungle);
      text-transform: uppercase;
      letter-spacing: 0.04em;
      margin-bottom: 2mm;
    }

    .kv { display: block; margin: 0 0 1.2mm 0; }

    .k  {
      display: inline-block;
      min-width: 52mm;
      color: var(--gold);
      font-weight: 800;
    }

    .row { display: flex; gap: 8mm; }
    .cell { flex: 1; min-width: 0; }
    .cell-50 { flex: 0 0 50%; }

    .siggrid { display: flex; gap: 10mm; margin-top: 4mm; }

    .sigcell {
      flex: 1;
      border: 1px solid var(--line);
      border-top: 3px solid var(--gold);
      border-radius: 8px;
      padding: 6mm;
      background: #fff;
      break-inside: avoid;
    }

    .line {
      height: 10mm;
      border-bottom: 1px solid #9CA3AF;
      margin: 6mm 0 4mm 0;
    }

    .stamp {
      margin-top: 5mm;
      border: 1px dashed #9CA3AF;
      border-radius: 8px;
      padding: 4mm;
      background: var(--tint2);
      break-inside: avoid;
    }

    table { width: 100%; border-collapse: collapse; margin: 0 0 4mm 0; }
    th, td { border: 1px solid var(--line); padding: 2.5mm; vertical-align: top; }
    th { background: #F9FAFB; text-align: left; color: var(--jungle); }

    .avoid-break { break-inside: avoid; }
    a { color: var(--jungle-2); text-decoration: none; }
  </style>

  {% block head %}{% endblock %}
</head>

<body>
  <div class="page">

    <!-- Top brand block -->
    <div class="brand-bar"></div>

    <div class="header">
      <div class="header-top">

        <div>
          <div class="brand">{{ company.name if company else "Rizara Meats Ltd" }}</div>
          <div class="small muted">
            {% if company and company.address %}{{ company.address }}{% else %}Republic of Kenya{% endif %}
          </div>

          {% block header_extra_left %}{% endblock %}

          <div class="doc-title">
            {% block doc_title %}Export Sales Contract{% endblock %}
          </div>

          {% if document is defined %}
            <div class="tiny muted">
              Reference:
              <span class="mono">{{ document.ref or ("ESC-" ~ (document.id|string)[:8]) }}</span>
              &nbsp;•&nbsp;
              Document ID: <span class="mono">{{ document.id }}</span>
            </div>
          {% endif %}
        </div>

        <div class="meta">
          {% if document is defined %}
            <div class="kv"><span class="muted">Version:</span> <strong>v{{ document.version }}</strong></div>
            <div class="kv"><span class="muted">Status:</span> <strong>{{ document.status }}</strong></div>
          {% endif %}
          <div class="kv">
            <span class="muted">Date (EAT):</span>
            <strong>{{ now_eat if now_eat is defined else "" }}</strong>
          </div>

          {% block header_extra_right %}{% endblock %}
        </div>

      </div>
    </div>

    {% block content %}{% endblock %}

    <div class="footer">
      <div>
        Generated by Rizara platform.
        {% if company and company.email %} • {{ company.email }}{% endif %}
        {% if company and company.phone %} • {{ company.phone }}{% endif %}
        {% if company and company.website %} • {{ company.website }}{% endif %}
      </div>
      {% block footer_extra %}{% endblock %}
    </div>

  </div>
</body>
</html>